!function(){var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire7009;e.register("481fT",(function(t,i){var r=e("94AO8"),n=e("50qLl"),o=e("iRSXK"),s=e("9rkCf");const l={border:"none",width:"100%",height:"0px","overflow-x":"hidden","overflow-y":"hidden",display:"block"},a={scrolling:"no",frameborder:"0",allowtransparency:"true",allowfullscreen:"true"};!function(e){const t={processedWidgets:[],listenerCallbacks:[],listenerRegistered:!1,init:function(){this.registerListener();document.querySelectorAll(`a[data-og-widget][href^="${(0,r.getExternalUrl)()}"]`).forEach(this.initializeWidget.bind(this))},registerListener:function(){this.listenerRegistered||((0,s.register)((e=>{this.listenerCallbacks.forEach((t=>t(e)))})),this.listenerRegistered=!0)},addListenerCallback:function(e){this.listenerCallbacks.push(e)},initializeWidget:function(e){if(this.processedWidgets.includes(e))return;this.processedWidgets.push(e);const t=this.getWidgetCallbackUrl(e);if(!t)return;const i=this.createIframe(t);i.onload=()=>{e.remove()},e.after(i),this.addListenerCallback(this.getWidgetListenerCallback(i))},getWidgetCallbackUrl:function(e){let t;const{href:i,dataset:{ogCode:n}}=e;return(0,r.getTripSlugFromUrl)(i)?t=(0,r.tripLink)((0,r.getTripSlugFromUrl)(i)):(0,r.getHostSlugFromUrl)(i)&&(t=(0,r.hostLink)((0,r.getHostSlugFromUrl)(i))),t?void 0!==n?(0,r.getEmbedSnippetUrl)(t):(0,r.getEmbedUrl)(t):null},createIframe:function(t){let i;try{i=document.createElement('<iframe name="'+(0,n.getId)()+'"></iframe>')}catch(e){i=document.createElement("iframe"),i.name=(0,n.getId)()}return i.src=t+"?source="+encodeURIComponent(e.location.origin),Object.keys(a).forEach((e=>i.setAttribute(e,a[e]))),Object.keys(l).forEach((e=>i.style.setProperty(e,l[e]))),i},getWidgetListenerCallback:function(t){return i=>{const{origin:n,data:{type:s,name:l}}=i;if((0,o.log)("received event:",i.data),(0,r.getEmbedUrl)().startsWith(n)&&t.name===l)switch(s){case"size":const{width:r,height:n}=i.data;t.style.height=n+"px";break;case"copy":const{text:o}=i.data;e.navigator.clipboard.writeText(o)}}}};e.OGWidgets||(t.init(),e.onload=()=>t.init(),e.OGWidgets=t)}(window)})),e.register("iRSXK",(function(e,t){var i,r,n,o;i=e.exports,r="log",n=function(){return s},Object.defineProperty(i,r,{get:n,set:o,enumerable:!0,configurable:!0});const s=(e,...t)=>{console.log(e,...t)}}))}();
//# sourceMappingURL=embed.aadc8bb2.js.map
